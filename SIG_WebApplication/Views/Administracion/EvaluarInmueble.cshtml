
@{
    ViewBag.Title = "EvaluarInmueble";
    Layout = "~/Views/Shared/_LayoutAdministrativo.cshtml";
}

<style>
    .main-panel > .content {
        padding: 30px 15px;
        min-height: calc(100% - 123px);
    }

    .card {
        border-radius: 4px;
        background-color: #FFFFFF;
        margin-bottom: 30px;
    }

        .card .card-header {
            padding: 15px 15px 0;
            background-color: #FFFFFF;
            border-bottom: none !important;
        }

        .card .card-title {
            margin: 0;
            color: #333333;
            font-weight: 300;
        }

        .card .card-body {
            padding: 15px 15px 10px 15px;
        }

        .card .card-image img {
            width: 100%;
        }

        .card .card-category, .card label {
            font-size: 14px;
            font-weight: 400;
            color: #9A9A9A;
            margin-bottom: 0px;
        }
</style>

<div class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header ">
                        <h4 class="card-title">@ViewBag.SubCategoria</h4>
                        <p class="card-category">Publicado hace @ViewBag.Tiempo</p>
                    </div>
                    <div class="card-body">
                        <form>

                            <div class="row">
                                <div class="col-md-5 pr-1">
                                    <div class="form-group">
                                        <label>Fecha registro </label>
                                        <input type="text" class="form-control" disabled="" placeholder="Company" value="@ViewBag.FechaRegistro">
                                    </div>
                                </div>
                                <div class="col-md-7 px-1">
                                    <div class="form-group">
                                        <label>Titulo</label>
                                        <input type="text" class="form-control" disabled="" placeholder="Username" value="@ViewBag.Titulo">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Descripción</label>
                                        <textarea rows="4" cols="80" class="form-control" disabled="" placeholder="" value="@ViewBag.Titulo">@ViewBag.Descripcion</textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 pr-1">
                                    <div class="form-group">
                                        <label>Baños </label>
                                        <input type="text" class="form-control" disabled="" placeholder="" value="@ViewBag.WC">
                                    </div>
                                </div>
                                <div class="col-md-4 pl-1">
                                    <div class="form-group">
                                        <label>Estacionamientos </label>
                                        <input type="text" class="form-control" disabled="" placeholder="" value="@ViewBag.Estacionamientos">
                                    </div>
                                </div>
                                <div class="col-md-4 pl-1">
                                    <div class="form-group">
                                        <label>Superficie construida </label>
                                        <input type="text" class="form-control" disabled="" placeholder="" value="@ViewBag.Superficie">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 pr-1">
                                    <div class="form-group">
                                        <label>Superficie terreno </label>
                                        <input type="text" class="form-control" disabled="" placeholder="" value="@ViewBag.SuperficieT">
                                    </div>
                                </div>
                                <div class="col-md-4 pl-1">
                                    <div class="form-group">
                                        <label>Precio </label>
                                        <input type="text" class="form-control" disabled="" placeholder="" value="@ViewBag.Precio">
                                    </div>
                                </div>
                                <div class="col-md-4 pl-1">
                                    <div class="form-group">
                                        <label>Moneda </label>
                                        <input type="text" class="form-control" disabled="" placeholder="" value="@ViewBag.NombreMoneda">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Dirección </label>
                                        <input type="text" class="form-control" disabled="" placeholder="Home Address" value="@ViewBag.Estado, @ViewBag.Poblacion, @ViewBag.CP, @ViewBag.Colonia">
                                    </div>
                                </div>
                            </div>
                            <hr />

                            <button type="button" id="BtnProcesar2" class="btn btn-info btn-fill pull-right">Aceptar publicación</button>

                            <button type="button" id="BtnProcesar3" class="btn btn-default btn-fill pull-right">Rechazar publicación </button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card card-user">
                    <div class="card-header ">
                        <h4 class="card-title">Galería de imágenes</h4>
                    </div>
                    <div class="card-body">
                        <div id="myCarousel" class="carousel slide" data-ride="carousel">
                            <!-- Indicators -->
                            <ol class="carousel-indicators">
                                @{
                                    int b = 0;

                                    foreach (var cat in ViewBag.Imgs)
                                    {
                                        if (b == 0)
                                        {
                                            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                                            b = b + 1;
                                        }
                                        else
                                        {
                                            <li data-target="#myCarousel" data-slide-to="1"></li>
                                            b = b + 1;
                                        }
                                    }
                                }

                            </ol>

                            <!-- Wrapper for slides -->
                            <div class="carousel-inner">

                                @{
                                    int a = 0;

                                    foreach (var cat in ViewBag.Imgs)
                                    {
                                        if (a == 0)
                                        {
                                            <div class="item active">
                                                <img src="http://@cat.Descripcion" alt="Los Angeles" style="width:100%;">
                                            </div>
                                            a = a + 1;
                                        }
                                        else
                                        {
                                            <div class="item">
                                                <img src="http://@cat.Descripcion" alt="Los Angeles" style="width:100%;">
                                            </div>
                                            a = a + 1;
                                        }
                                    }
                                }

                            </div>

                            <!-- Left and right controls -->
                            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                                <span class="glyphicon glyphicon-chevron-left">
                                    <img src="~/images/icons/icon-prev.png" />
                                </span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="right carousel-control" href="#myCarousel" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right">
                                    <img src="~/images/icons/icon-next.png" />
                                </span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>


                        @*<div class="author">
                                        <a href="#">
                                <img class="avatar border-gray" src="~/images/icons/Logo.png" alt="...">
                                <h5 class="title">Mike Andrew</h5>
                            </a>
                            <p class="description">
                                michael24
                            </p>
                                    </div>*@

                    </div>
                    <div class="card-header ">
                        <p class="card-category">Información del usuario</p>
                        <hr />
                        <p style="font-size:14px"><strong>Nombre : </strong> @ViewBag.NombreUsuario</p>
                        <p style="font-size:14px"><strong>Correo electrónico : </strong> @ViewBag.Correo</p>
                        <p style="font-size:14px"><strong>Teléfono : </strong> @ViewBag.Telefono</p>
                        <p style="font-size:14px"><strong>Teléfono móvil: </strong> @ViewBag.TelefonoMovil</p>

                    </div>

                    <hr>
                    <div class="button-container mr-auto ml-auto">
                        <br />
                        @*<button href="#" class="btn btn-simple btn-link btn-icon">
                                <i class="fa fa-facebook-square"></i>
                            </button>
                            <button href="#" class="btn btn-simple btn-link btn-icon">
                                <i class="fa fa-twitter"></i>
                            </button>
                            <button href="#" class="btn btn-simple btn-link btn-icon">
                                <i class="fa fa-google-plus-square"></i>
                            </button>*@
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="http://www.serviciosinmobiliariosg.com.mx/assets/js/jquery.3.2.1.min.js"></script>
@*<script src="https://localhost:44352//assets/js/jquery.3.2.1.min.js" type="text/javascript"></script>*@
<script>
    $("#BtnProcesar2").click(function () {
        var arreglo = [];
        var obj = {};

        obj['IdCf'] = '@ViewBag.Id';

        var jsonObject = {
            "Inmueble": obj
        };

         console.log(jsonObject);

        $.ajax({
            url: "@Url.Action("Procesar_Inmueble", "Administracion")",
            type: "POST",
            data: JSON.stringify(jsonObject),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            error: function (response) {
                alert("MANDAR MENSAJE SE ERROR");
            },
            success: function (response) {
                if (response.Respuesta) {
                    swal({
                        title: "Publicacion. !",
                        text: response.Contenido,
                        icon: "success",
                        button: "Aceptar",
                    })
                    .then((value) => {
                            window.location.href = '@Url.Action("Index","Administracion")';
                    });
                }
                else {
                    alert(response.Contenido);
                }
            }

        });

    });



   $("#BtnProcesar3").click(function () {
        var arreglo = [];
        var obj = {};

        obj['IdCf'] = '@ViewBag.Id';

        var jsonObject = {
            "Inmueble": obj
        };

         console.log(jsonObject);

        $.ajax({
            url: "@Url.Action("Procesar_Inmueble_Rechazo", "Administracion")",
            type: "POST",
            data: JSON.stringify(jsonObject),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            error: function (response) {
                alert("MANDAR MENSAJE SE ERROR");
            },
            success: function (response) {
                if (response.Respuesta) {
                    swal({
                        title: "Publicacion. !",
                        text: response.Contenido,
                        icon: "success",
                        button: "Aceptar",
                    })
                    .then((value) => {
                            window.location.href = '@Url.Action("Index","Administracion")';
                    });
                }
                else {
                    alert(response.Contenido);
                }
            }

        });

    });
</script>